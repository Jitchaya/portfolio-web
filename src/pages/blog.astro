---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import PageShell from '../components/PageShell.astro';
import BlogCard from '../components/BlogCard.astro';
import SectionHeading from '../components/SectionHeading.astro';

const blogs = (await getCollection('blogs')).sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime()
);
---

<Layout title="Blog | Jitchaya Veerachodthada">
  <PageShell>
    <!-- Back Link -->
    <a
      href="/#blog"
      class="inline-flex items-center gap-1 text-sm text-slate-500 hover:text-primary transition-colors mb-8"
    >
      <span class="material-symbols-outlined text-[18px]">arrow_back</span>
      Back to Home
    </a>

    <SectionHeading
      title="Blog"
      subtitle="Thoughts, tutorials, and insights on design, development, and the creative process."
    />

    <!-- Blog Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
      {blogs.map((blog) => (
        <BlogCard
          title={blog.data.title}
          description={blog.data.description}
          date={blog.data.date}
          tags={blog.data.tags}
          image={blog.data.image}
          slug={blog.id}
        />
      ))}
    </div>
  </PageShell>
</Layout>
